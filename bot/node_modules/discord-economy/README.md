<div align="center">
  <br />
  <br />
  <p>
    <a href="https://discord.gg/Hc9rC8X"><img src="https://discordapp.com/api/guilds/379277541229330432/widget.png" alt="Discord server" /></a>
    <a href="https://www.npmjs.com/package/discord-economy"><img src="https://img.shields.io/npm/v/discord-economy.svg" alt="NPM version" /></a>
    <a href="https://www.npmjs.com/package/discord-economy"><img src="https://img.shields.io/npm/dt/discord-economy.svg" alt="NPM downloads" /></a>
  </p>
  <p>
    <a href="https://nodei.co/npm/discord-economy/"><img src="https://nodei.co/npm/discord-economy.png?downloads=true&stars=true" alt="NPM info" /></a>
  </p>
</div>

## Installation
```js
$ npm install --save discord-economy
```

Checkout my NEW package!
[discord-leveling](https://www.npmjs.com/package/discord-leveling)

### Required packages
- [sequelize](https://www.npmjs.com/package/sequelize) the DB wrapper of sqlite3 of this project (`npm install --save sequelize`)
- [sqlite3](https://www.npmjs.com/package/sqlite3) Core DB (`npm install --save sqlite3`)

### Optional
- [discord.js](https://www.npmjs.com/package/discord.js) Package to make discord bots with (`npm install --save discord.js`)

## ChangeLog
- [1.0.12](https://www.npmjs.com/package/discord-economy/v/1.0.12) Added a function queue so that the database never corrupts; Leaderboard now outputs objects instead of arrays!
- [1.0.13](https://www.npmjs.com/package/discord-economy/v/1.0.13) Fixed small typo's in: Dice and Coinflip functions.
- [1.0.14](https://www.npmjs.com/package/discord-economy/v/1.0.14) Now you can set the balance to 0 which first was not possible because a small mistake.

## Functions

**SetBalance**
```js
eco.SetBalance(UserID, toSet)
```

**AddToBalance**
```js
eco.AddToBalance(UserID, toAdd).then(l => console.log(l))
//Expected Output
//{userid, oldbalance, newbalance}
//oldbalance & newbalance = integer
```

**SubstractFromBalance**
```js
eco.SubstractFromBalance(UserID, toSubstract).then(l => console.log(l))
//Expected Output
//{userid, oldbalance, newbalance}
//oldbalance & newbalance = integer
```

**FetchBalance**
```js
eco.FetchBalance(UserID).then(l => console.log(l))
//Expected Output
//{userid, balance}
//balance = integer
```

**Leaderboard**
```js
eco.Leaderboard({limit: NUMBER, search: 'UserID'}).then(l => console.log(l))
//limit And search are optional!//
//limit specifies how much records you want to fetch for the Leaderboard DEFAULT: unlimited
//If you add search it will search the userposition in the Leaderboard

//Expected Output without search
//Array of objects where balance is higher than 0!
//[ {userid: 153, balance: 100}, {userid: 170, balance: 94}, {userid: 92640, balance: 3} ]
//Sorted from user with highest to lowest balance.

//Expected Output with search
//Place of the user in the Leaderboard
//For example: If the user is first place it will output 1 (Integer)
```

**Daily**
```js
eco.Daily(UserID).then(l => console.log(l))
//Expected Output
//{userid, updated}
//updated = false Or true
```

**Transfer**
```js
eco.Transfer(FromUser, ToUser, Amount).then(l => console.log(l))
//Expected Output
//{userid, updated}
//updated = false Or true
```

**Coinflip**
```js
//Flip should be heads or tails
eco.Coinflip(UserID, Flip, Input).then(l => console.log(l))
})
//Expected Output
//{userid, oldbalance, newbalance, output}
//output = won or lost
```

**Dice**
```js
//Dice should be between 1-6
eco.Dice(UserID, Dice, Input).then(l => console.log(l))
//Expected Output
//{userid, oldbalance, newbalance, guess, dice, output}
//guess = UserGuess
//dice = Diceroll
//output = won or lost
```

## Contact
- [Discord Help Server](https://discord.gg/Hc9rC8X)
